node("x86_runner1"){
    stage('*** Cleanup***') {
        cleanWs()
    }
    stage('*** Check out SCM ***') {
        checkout scm
    } 
    stage('*** Compilation Phase ***') { 
        sh '''#!/bin/bash
            wget https://github.com/riscv-collab/riscv-gnu-toolchain/releases/download/2023.09.13/riscv64-glibc-ubuntu-22.04-gcc-nightly-2023.09.13-nightly.tar.gz
            tar xzvf riscv64-glibc-ubuntu-22.04-gcc-nightly-2023.09.13-nightly.tar.gz
            CC=$PWD/riscv/bin/riscv64-unknown-linux-gnu-gcc CXX=$PWD/riscv/bin/riscv64-unknown-linux-gnu-g++ CC_host=gcc CXX_host=g++ ./configure --dest-cpu=riscv64 --cross-compiling --openssl-no-asm
            make -j 4
         '''
    }
    stage (' *** Test ***'){
        sh '''#!/bin/bash
            ls
         '''
    }
}
